(this["webpackJsonptweetme2-web"]=this["webpackJsonptweetme2-web"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),s=a.n(r),o=(a(12),a(4)),l=a(1);function i(e){!function(e,t,a,n){var c;n&&(c=JSON.stringify(n));var r=new XMLHttpRequest,s="http://localhost:8000/api".concat(t);r.responseType="json",r.open(e,s),r.onload=function(){a(r.response,r.status)},r.onerror=function(e){console.log(e),a({message:"The request was an error"},400)},r.send(c)}("GET","/tweets/",e)}function u(e){var t=e.className,a=c.a.createRef(),r=Object(n.useState)([]),s=Object(l.a)(r,2),i=s[0],u=s[1];return c.a.createElement("div",{className:t},c.a.createElement("div",{className:"col-12 mb-3"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=a.current.value,n=Object(o.a)(i);n.unshift({content:t,likes:0,id:12313}),u(n),a.current.value=""}},c.a.createElement("textarea",{ref:a,required:!0,className:"form-control"}),c.a.createElement("button",{type:"submit",className:"btn btn-primary my-3"},"T\u1ea1o tweet"))),c.a.createElement(m,{newTweetsProps:i}))}function m(e){var t=e.newTweetsProps,a=Object(n.useState)([]),r=Object(l.a)(a,2),s=r[0],u=r[1],m=Object(n.useState)([]),b=Object(l.a)(m,2),f=b[0],w=b[1],d=Object(n.useState)(!1),E=Object(l.a)(d,2),v=E[0],y=E[1];return Object(n.useEffect)((function(){var e=Object(o.a)(t).concat(s);e.length!==f.length&&w(e)}),[t,f,s]),Object(n.useEffect)((function(){if(!v){i((function(e,t){200===t?(u(e),y(!0)):alert("There was an error")}))}}),[s,v]),c.a.createElement("div",{className:"App"},f.map((function(e,t){return c.a.createElement(p,{tweet:e,className:"my-1 py-1 border text-dark",key:t})})))}function p(e){var t=e.tweet,a=e.className,n=a||"col-10 mx-auto col-md-6";return c.a.createElement("div",{className:n},c.a.createElement("p",null,t.id," - ",t.content),c.a.createElement("div",{className:"btn btn-group"},c.a.createElement(b,{tweetProps:t,actionProps:{type:"like",display:"Likes"}}),c.a.createElement(b,{tweetProps:t,actionProps:{type:"unlike",display:"Unlike"}}),c.a.createElement(b,{tweetProps:t,actionProps:{type:"retweet",display:"Retweet"}})))}function b(e){var t=e.tweetProps,a=e.actionProps,r=e.className,s=Object(n.useState)(t.likes?t.likes:0),o=Object(l.a)(s,2),i=o[0],u=o[1],m=Object(n.useState)(!!t.isUserLike),p=Object(l.a)(m,2),b=p[0],f=p[1],w=r||"btn btn-primary btn-sm",d=a.display?a.display:"Action",E="like"===a.type?"".concat(i," ").concat(d):d;return c.a.createElement("button",{className:w,onClick:function(e){e.preventDefault(),"like"===a.type&&(b?(u(i-1),f(!1)):(u(i+1),f(!0)))}},E)}var f=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(u,null))};s.a.render(c.a.createElement(f,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.6eb43c13.chunk.js.map